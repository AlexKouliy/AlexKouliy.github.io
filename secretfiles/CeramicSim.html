<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Modular Pottery: Sculpt & Fire</title><style>*{box-sizing:border-box;margin:0;padding:0}body{font-family:'Playfair Display',serif;background:#f5f5dc;color:#4a3f35;min-height:100vh;padding:2rem;text-align:center} .container{max-width:900px;background:rgba(255,255,255,0.9);padding:2rem;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.1)}canvas{display:block;background:#fff5ee;border:3px solid #d4c4b4;border-radius:12px;margin:1rem auto;cursor:crosshair;width:100%;max-width:400px;height:auto}.controls{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin:1rem 0}select,button,input[type="color"],input[type="range"]{padding:0.6rem;font-size:1rem;border-radius:8px;border:1px solid #8B4513;cursor:pointer} .heat-bar{width:90%;max-width:300px;height:25px;background:#e0e0e0;margin:1rem auto;border-radius:15px;overflow:hidden}.heat-level{width:0;height:100%;background:linear-gradient(90deg,#ff4444 0%,#ff9000 100%);transition:width 1s}.info-panel{max-width:600px;margin:1rem auto;background:#fff5ee;border-radius:10px;padding:1rem;box-shadow:0 3px 8px rgba(0,0,0,0.1);text-align:left}.info-panel h2{font-size:1.1rem;margin-bottom:0.5rem}.info-panel p{margin-bottom:0.8rem;line-height:1.4}#configPanel{margin-top:1rem;padding:1rem;border:1px solid #ccc;border-radius:8px;background:#fff;max-width:300px}</style></head><body><div class="container"><h1 id="stepTitle">Step 1: Choose Your Clay & Form</h1><select id="clayType"><option value="earthenware">Earthenware</option><option value="stoneware">Stoneware</option><option value="porcelain">Porcelain</option><option value="terracotta">Terracotta</option></select><select id="form-selector"><option value="sphere">Sphere</option><option value="bowl">Bowl</option><option value="vase">Vase</option><option value="square">Square Block</option></select><canvas id="pottery"></canvas><div class="controls"><button id="nextStep">Next Step</button><select id="sculptMode" style="display:none;"><option value="add">Add Clay</option><option value="remove">Remove Clay</option></select><select id="toolShape" style="display:none;"><option value="circle">Circle</option><option value="square">Square</option><option value="diamond">Diamond</option></select><input type="range" id="toolSize" min="5" max="50" value="15" style="display:none;width:120px;"><input id="glazeColor" type="color" style="display:none;" value="#FF5733"><select id="coneSelect" style="display:none;"><option value="cone1">Cone 1 (~1700°F)</option><option value="cone2">Cone 2 (~1750°F)</option><option value="cone3">Cone 3 (~1800°F)</option><option value="cone4">Cone 4 (~1850°F)</option><option value="cone5">Cone 5 (~1900°F)</option><option value="cone6">Cone 6 (~1950°F)</option><option value="cone7">Cone 7 (~2050°F)</option><option value="cone8">Cone 8 (~2150°F)</option><option value="cone9">Cone 9 (~2250°F)</option><option value="cone10">Cone 10 (~2350°F)</option><option value="cone11">Cone 11 (~2450°F)</option><option value="cone12">Cone 12 (~2550°F)</option></select><select id="kilnType" style="display:none;"><option value="electric">Electric</option><option value="gas">Gas</option><option value="wood">Wood</option></select><select id="firingType" style="display:none;"><option value="standard">Standard</option><option value="soda">Soda Fire</option><option value="raku">Raku</option><option value="reduction">Reduction</option></select><button id="saveBtn" style="display:none;">Save Image</button></div><div class="heat-bar"><div class="heat-level" id="heatLevel"></div></div><div class="info-panel" id="infoPanel"></div><button id="configBtn">Settings</button><div id="configPanel" style="display:none;"><h3>Config Settings</h3><label>Text Color: <input type="color" id="cfgTextColor" value="#4a3f35"></label><br><label>Button Color: <input type="color" id="cfgButtonColor" value="#8B4513"></label><br><label>Canvas Background: <input type="color" id="cfgCanvasColor" value="#fff5ee"></label><br><label>Background: <input type="color" id="cfgBackgroundColor" value="#f5f5dc"></label><br><label>Menu Color: <input type="color" id="cfgMenuColor" value="#ffffff"></label><br><button id="saveConfig">Save Settings</button></div></div><script>document.addEventListener("DOMContentLoaded",function(){let step=1,isDrawing=false,clay="earthenware",form="sphere",toolColor=document.getElementById("glazeColor").value,currentSize=15,glazedApplied=false,lineStartPoint=null,steps=["Step 1: Choose Your Clay & Form","Step 2: Sculpt","Step 3: Stamp","Step 4: Bisque Fire","Step 5: Glaze","Step 6: Firing"],clayProps={earthenware:{color:"#d4a48b",maxF:2100,idealCone:5,info:"<p>Fires up to ~2100°F.</p>"},stoneware:{color:"#bda58d",maxF:2350,idealCone:8,info:"<p>Fires up to ~2350°F.</p>"},porcelain:{color:"#ede8e3",maxF:2650,idealCone:6,info:"<p>Fires up to ~2650°F. Porcelain gets lighter with firing.</p>"},terracotta:{color:"#E2725B",maxF:1900,idealCone:4,info:"<p>Fires up to ~1900°F.</p>"}},coneTemps={cone1:1700,cone2:1750,cone3:1800,cone4:1850,cone5:1900,cone6:1950,cone7:2050,cone8:2150,cone9:2250,cone10:2350,cone11:2450,cone12:2550},infoPanel=document.getElementById("infoPanel"),c=document.getElementById("pottery"),ctx=c.getContext("2d"),maskCanvas=document.createElement("canvas");let clayBodyPath;function resize(){let s=Math.min(window.innerWidth*0.8,400);c.width=s,c.height=s,maskCanvas.width=s,maskCanvas.height=s,drawBase()}function drawBase(){ctx.clearRect(0,0,c.width,c.height);let path=new Path2D();if(form==="sphere")path.arc(c.width/2,c.height/2,c.width*0.3,0,2*Math.PI);else if(form==="bowl"){path.moveTo(c.width*0.2,c.height*0.5);path.quadraticCurveTo(c.width/2,c.height*0.3,c.width*0.8,c.height*0.5);path.lineTo(c.width*0.8,c.height*0.8);path.quadraticCurveTo(c.width/2,c.height*0.9,c.width*0.2,c.height*0.8);path.closePath()}else if(form==="vase"){path.moveTo(c.width*0.45,c.height*0.1);path.bezierCurveTo(c.width*0.2,c.height*0.3,c.width*0.2,c.height*0.7,c.width*0.45,c.height*0.9);path.lineTo(c.width*0.55,c.height*0.9);path.bezierCurveTo(c.width*0.8,c.height*0.7,c.width*0.8,c.height*0.3,c.width*0.55,c.height*0.1);path.closePath()}else if(form==="square")path.rect(c.width*0.2,c.height*0.2,c.width*0.6,c.height*0.6);clayBodyPath=path,ctx.fillStyle=clayProps[clay].color,ctx.fill(path)}function pointer(e){let r=c.getBoundingClientRect();return{x:(e.clientX||e.touches[0].clientX)-r.left,y:(e.clientY||e.touches[0].clientY)-r.top}}function applyTool(e){if(step<2||step>6)return;e.preventDefault();if(e.shiftKey){if(!lineStartPoint)lineStartPoint=pointer(e);else{let cp=pointer(e),dx=cp.x-lineStartPoint.x,dy=cp.y-lineStartPoint.y,dist=Math.sqrt(dx*dx+dy*dy),samples=Math.floor(dist/5);for(let i=0;i<=samples;i++){let t=i/samples,x=lineStartPoint.x+dx*t,y=lineStartPoint.y+dy*t,sh=document.getElementById("toolShape").value; if(step===2){document.getElementById("sculptMode").value==="add"?addClay(x,y,currentSize,sh):carve(x,y,currentSize,sh)} else if(step===3) stamp(x,y,currentSize,sh); else if(step===5){glazedApplied=true;glazeFunc(x,y,currentSize,sh)}}}}else{lineStartPoint=null;let p=pointer(e),sh=document.getElementById("toolShape").value; if(step===2){document.getElementById("sculptMode").value==="add"?addClay(p.x,p.y,currentSize,sh):carve(p.x,p.y,currentSize,sh)} else if(step===3) stamp(p.x,p.y,currentSize,sh); else if(step===5){glazedApplied=true;glazeFunc(p.x,p.y,currentSize,sh)}}}function addClay(x,y,r,sh){ctx.fillStyle=clayProps[clay].color,drawShape(x,y,r,sh)}function carve(x,y,r,sh){if(sh==="square")ctx.clearRect(x-r/2,y-r/2,r,r);else{ctx.save();ctx.beginPath();sh==="circle"?ctx.arc(x,y,r/2,0,2*Math.PI):sh==="diamond"&&diamondPath(x,y,r);ctx.clip();ctx.clearRect(x-r,y-r,2*r,2*r);ctx.restore()}}function stamp(x,y,r,sh){ctx.save();ctx.globalCompositeOperation="destination-in";ctx.drawImage(maskCanvas,0,0);ctx.globalCompositeOperation="source-over";ctx.fillStyle="#8b6a4f";drawShape(x,y,r,sh);ctx.restore()}function glazeFunc(x,y,r,sh){ctx.save();ctx.globalCompositeOperation="destination-in";ctx.drawImage(maskCanvas,0,0);ctx.globalCompositeOperation="source-over";ctx.fillStyle=toolColor+"80";drawShape(x,y,r,sh);ctx.restore()}function drawShape(x,y,r,sh){ctx.beginPath();if(sh==="circle"){ctx.arc(x,y,r/2,0,2*Math.PI),ctx.fill()}else if(sh==="square")ctx.fillRect(x-r/2,y-r/2,r,r);else if(sh==="diamond"){diamondPath(x,y,r),ctx.fill()}}function diamondPath(x,y,r){ctx.moveTo(x,y-r/2);ctx.lineTo(x+r/2,y);ctx.lineTo(x,y+r/2);ctx.lineTo(x-r/2,y);ctx.closePath()}function updateMask(){maskCanvas.width=c.width,maskCanvas.height=c.height;let mctx=maskCanvas.getContext("2d");mctx.clearRect(0,0,c.width,c.height),mctx.drawImage(c,0,0)}function bisqueFire(){let data=ctx.getImageData(0,0,c.width,c.height),d=data.data;for(let i=0;i<d.length;i+=4)if(!(d[i]>250&&d[i+1]>240&&d[i+2]>230)){let hsl=rgbToHsl(d[i],d[i+1],d[i+2]);hsl.s=Math.max(0,hsl.s-0.05),hsl.l=Math.max(0,hsl.l-0.05);let rgb=hslToRgb(hsl.h,hsl.s,hsl.l);d[i]=rgb.r,d[i+1]=rgb.g,d[i+2]=rgb.b}ctx.putImageData(data,0,0),alert("Bisque fired!"),updateMask(),nextStep()}function finalFire(){let chosen=document.getElementById("coneSelect").value,temp=coneTemps[chosen],limit=clayProps[clay].maxF;if(temp>limit){drawMeltedPuddle(),Array.from(document.querySelectorAll(".controls select, .controls button, .controls input")).forEach(el=>{if(el.id!=="saveBtn")el.disabled=true});return}let kiln=document.getElementById("kilnType").value,firingType=document.getElementById("firingType").value;if(kiln==="electric"&&!["cone1","cone2","cone3","cone4","cone5","cone6"].includes(chosen)){alert("Electric kilns cannot fire above Cone 6!"),location.reload();return}let numericCone=parseInt(chosen.replace("cone",""));if(numericCone>clayProps[clay].idealCone+2){drawMeltedPuddle(),Array.from(document.querySelectorAll(".controls select, .controls button, .controls input")).forEach(el=>{if(el.id!=="saveBtn")el.disabled=true});return}let data=ctx.getImageData(0,0,c.width,c.height),d=data.data,diff=numericCone-clayProps[clay].idealCone,factor=1-diff*0.05;if(kiln==="gas"&&firingType==="reduction"&&(numericCone===6||numericCone===10)){factor=1;for(let i=0;i<d.length;i+=4){d[i]=Math.min(255,d[i]*1.1),d[i+1]=Math.min(255,d[i+1]*1.1),d[i+2]=Math.min(255,d[i+2]*1.1)}}else if(firingType==="soda")factor*=0.9;else if(firingType==="raku")factor*=1.1;for(let i=0;i<d.length;i+=4)if(!(d[i]>250&&d[i+1]>240&&d[i+2]>230)){d[i]*=factor,d[i+1]*=factor,d[i+2]*=factor}ctx.putImageData(data,0,0);let postOffset= clay==="porcelain"?{h:0,s:0,l:0.05}:glazedApplied?{h:-0.02,s:0.05,l:-0.1}:{h:-0.01,s:0.02,l:-0.05};data=ctx.getImageData(0,0,c.width,c.height),d=data.data;for(let i=0;i<d.length;i+=4)if(!(d[i]>250&&d[i+1]>240&&d[i+2]>230)){let hsl=rgbToHsl(d[i],d[i+1],d[i+2]);hsl.h=Math.max(0,Math.min(1,hsl.h+postOffset.h)),hsl.s=Math.max(0,Math.min(1,hsl.s+postOffset.s)),hsl.l=Math.max(0,Math.min(1,hsl.l+postOffset.l));let rgb=hslToRgb(hsl.h,hsl.s,hsl.l);d[i]=rgb.r,d[i+1]=rgb.g,d[i+2]=rgb.b}ctx.putImageData(data,0,0),firingType==="raku"?drawCrackedTexture():firingType==="soda"?drawSodaEffect():firingType==="reduction"&&drawReductionEffect(),alert(`Fired ~${temp}°F (${chosen}). Ideal: Cone ${clayProps[clay].idealCone}. Kiln: ${kiln}, Firing: ${firingType}`),document.getElementById("saveBtn").style.display="inline-block",Array.from(document.querySelectorAll(".controls select, .controls button, .controls input")).forEach(el=>{if(el.id!=="saveBtn")el.disabled=true})}function drawMeltedPuddle(){ctx.clearRect(0,0,c.width,c.height),ctx.fillStyle="#4a2e4a",ctx.beginPath();let cx=c.width/2,cy=c.height*0.95,rx=c.width*0.4,ry=c.height*0.08,points=30;for(let i=0;i<=points;i++){let angle=i*2*Math.PI/points,noiseX=rx*(Math.random()*0.15-0.075),noiseY=ry*(Math.random()*0.3-0.15),x=cx+(rx+noiseX)*Math.cos(angle),y=cy+(ry+noiseY)*Math.sin(angle);i===0?ctx.moveTo(x,y):ctx.lineTo(x,y)}ctx.closePath(),ctx.fill()}function drawCrackedTexture(){ctx.save(),ctx.strokeStyle="rgba(0,0,0,0.7)",ctx.lineWidth=2;for(let i=0;i<20;i++){let sx=Math.random()*c.width,sy=Math.random()*c.height;ctx.beginPath(),ctx.moveTo(sx,sy);let segs=5+Math.floor(Math.random()*5),x=sx,y=sy;for(let j=0;j<segs;j++){x+=(Math.random()-0.5)*50,y+=(Math.random()-0.5)*50,ctx.lineTo(x,y)}ctx.stroke()}ctx.restore()}function drawSodaEffect(){ctx.save(),ctx.fillStyle="rgba(255,255,255,0.3)";for(let i=0;i<200;i++){let x=Math.random()*c.width,y=Math.random()*c.height,rad=Math.random()*2+1;ctx.beginPath(),ctx.arc(x,y,rad,0,2*Math.PI),ctx.fill()}ctx.restore()}function drawReductionEffect(){ctx.save(),ctx.globalAlpha=0.2;for(let i=0;i<100;i++){let x=Math.random()*c.width,y=Math.random()*c.height,rad=Math.random()*10+5;ctx.fillStyle="rgba(0,150,255,0.5)",ctx.beginPath(),ctx.arc(x,y,rad,0,2*Math.PI),ctx.fill()}ctx.restore()}function nextStep(){step++;if(step>6)return;document.getElementById("stepTitle").textContent=steps[step-1],hideAll(),step===2?(document.getElementById("sculptMode").style.display="inline-block",document.getElementById("toolShape").style.display="inline-block",document.getElementById("toolSize").style.display="inline-block") : step===3?(document.getElementById("toolShape").style.display="inline-block",document.getElementById("toolSize").style.display="inline-block",updateMask()) : step===4?document.getElementById("nextStep").textContent="Bisque Fire":step===5?(document.getElementById("glazeColor").style.display="inline-block",document.getElementById("toolSize").style.display="inline-block") : step===6&&(document.getElementById("coneSelect").style.display="inline-block",document.getElementById("kilnType").style.display="inline-block",document.getElementById("firingType").style.display="inline-block",document.getElementById("nextStep").textContent="Fire Now"),updateInfo(),step===3&&updateMask()}function hideAll(){["sculptMode","toolShape","toolSize","glazeColor","coneSelect","kilnType","firingType"].forEach(id=>{document.getElementById(id).style.display="none"})}function updateInfo(){let info="";if(step===6)info=`<h2>Firing</h2><p>Select a cone, kiln type, and firing style. <strong>Tip:</strong> For ${clay}, Cone ${clayProps[clay].idealCone} works best.</p>`;else if(step===1)info=`<h2>Choosing Clay</h2><p>Select a clay type and form. Each clay has distinct properties and firing ranges.</p>`+clayProps[clay].info;else if(step===2)info="<h2>Sculpting</h2><p>Add or remove clay to shape your piece.</p>";else if(step===3)info="<h2>Stamping</h2><p>Stamp designs onto your clay. Stamps are confined to the sculpted clay body.</p>";else if(step===4)info="<h2>Bisque Firing</h2><p>Fire at a low temperature to remove moisture and dull the surface.</p>";else if(step===5)info="<h2>Glazing</h2><p>Apply a decorative, glassy finish using the color picker. Glaze is confined to the clay body.</p>";infoPanel.innerHTML=info}document.getElementById("toolSize").addEventListener("input",e=>{currentSize=parseInt(e.target.value)});document.getElementById("clayType").addEventListener("change",function(){clay=this.value,drawBase(),step===1&&updateInfo()});document.getElementById("form-selector").addEventListener("change",function(){form=this.value,drawBase()});document.getElementById("glazeColor").addEventListener("change",function(){toolColor=this.value});document.getElementById("nextStep").addEventListener("click",function(){step<4?nextStep():step===4?(bisqueFire(),this.textContent="Next Step"):step<6?nextStep():finalFire()});document.getElementById("saveBtn").addEventListener("click",function(){let a=document.createElement("a");a.download="finished_pottery.png",a.href=c.toDataURL(),a.click()});c.addEventListener("mousedown",e=>{isDrawing=true;applyTool(e)});c.addEventListener("touchstart",e=>{isDrawing=true;applyTool(e)});c.addEventListener("mousemove",e=>{isDrawing&&applyTool(e)});c.addEventListener("touchmove",e=>{isDrawing&&applyTool(e)});c.addEventListener("mouseup",()=>{isDrawing=false});c.addEventListener("touchend",()=>{isDrawing=false});c.addEventListener("mouseleave",()=>{isDrawing=false});window.addEventListener("resize",resize);resize(),updateInfo();document.getElementById("configBtn").addEventListener("click",()=>{let cp=document.getElementById("configPanel");cp.style.display=cp.style.display==="none"?"block":"none"});document.getElementById("saveConfig").addEventListener("click",function(){document.body.style.color=document.getElementById("cfgTextColor").value,Array.from(document.getElementsByTagName("button")).forEach(b=>b.style.backgroundColor=document.getElementById("cfgButtonColor").value),c.style.backgroundColor=document.getElementById("cfgCanvasColor").value,document.body.style.backgroundColor=document.getElementById("cfgBackgroundColor").value,Array.from(document.getElementsByTagName("select")).forEach(s=>s.style.backgroundColor=document.getElementById("cfgMenuColor").value),document.getElementById("configPanel").style.display="none"})});function rgbToHsl(r,g,b){r/=255,g/=255,b/=255;let max=Math.max(r,g,b),min=Math.min(r,g,b),h,s,l=(max+min)/2;if(max===min){h=s=0}else{let d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);h=max===r?(g-b)/d+(g<b?6:0):max===g?(b-r)/d+2:(r-g)/d+4,h/=6}return {h,s,l}}function hslToRgb(h,s,l){let r,g,b;if(s===0){r=g=b=l}else{let hue2rgb=(p,q,t)=>{if(t<0)t+=1;if(t>1)t-=1;return t<1/6?p+(q-p)*6*t:t<1/2?q:t<2/3?p+(q-p)*(2/3-t)*6:p};let q=l<0.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return {r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)}}window.addEventListener("DOMContentLoaded",resize);</script></body></html>
